clc,clear
N = [0.1709375	0.1531625	0.1505875	0.1723125	0.20685	0.2643	0.32875	0.3920125	0.458975	0.522075	0.5807125	0.634275	0.6831	0.7287	0.7716375	0.8065375	0.8386625	0.8697375	0.9013125	0.93335	0.9633125	0.9953875	1.0307375	1.0693375	1.1161375	1.1667625	1.2105875	1.2463375	1.2827	1.31475	1.3451125	1.374525	1.405425	1.43875	1.4634875	1.4858	1.5026125	1.5174125	1.5326375	1.544525	1.553975	1.5570375	1.5640375	1.5672375	1.5727875	1.5772	1.5768375	1.5848	1.583625	1.5928375	1.5950375	1.5934	1.589475	1.5886125	1.58855	1.5860375	1.5867375	1.5882125	1.581625	1.5801	1.5737625	1.560375	1.56085	1.553625	1.539575	1.5275375	1.5174125	1.5193375	1.5056375	1.5217625	1.5321875	1.5028125	1.49915	1.4931375	1.4898625	1.5067625	1.5000375	1.523875	1.501075	1.487	1.4893625	1.48085	1.4872875	1.485075	1.4790375	1.471175	1.4843875	1.4805625	1.477025	1.4830125	1.48795	1.4829375	1.4822625	1.483725	1.4755375	1.4801
    ]' - 0.08 * ones(96,1);
N2 = [0.1709375	0.1531625	0.1505875	0.1723125	0.20685	0.2643	0.32875	0.3920125	0.458975	0.522075	0.5807125	0.634275	0.6831	0.7287	0.7716375	0.8065375	0.8386625	0.8697375	0.9013125	0.93335	0.9633125	0.9953875	1.0307375	1.0693375	1.1161375	1.1667625	1.2105875	1.2463375	1.2827	1.31475	1.3451125	1.374525	1.405425	1.43875	1.4634875	1.4858	1.5026125	1.5174125	1.5326375	1.544525	1.553975	1.5570375	1.5640375	1.5672375	1.5727875	1.5772	1.5768375	1.5848	1.583625	1.5928375	1.5950375	1.5934	1.589475	1.5886125	1.58855	1.5860375	1.5867375	1.5882125	1.581625	1.5801	1.5737625	1.560375	1.56085	1.553625	1.539575	1.5275375	1.5174125	1.5193375	1.5056375	1.5217625	1.5321875	1.5028125	1.49915	1.4931375	1.4898625	1.5067625	1.5000375	1.523875	1.501075	1.487	1.4893625	1.48085	1.4872875	1.485075	1.4790375	1.471175	1.4843875	1.4805625	1.477025	1.4830125	1.48795	1.4829375	1.4822625	1.483725	1.4755375	1.4801
    ]';
x = 0:0.25:23.75;
x=x';
N0 = N(1);
d = 0.01;
%%
% f = fittype('K/(5*10^8+((K-0.1709*5*10^8)*exp(-r*(1-0.01*t)*t))/(0.1709*5*10^8))','independent','t','coefficients',{'r','K'});
f = fittype('K/(1+((K-0.1709)*exp(-r*(1-0.01*t)*t))/(0.1709))','independent','t','coefficients',{'r','K'});

% cfun = fit(x,N,f)
% cfun = fit(x,N2,f)

K=1.467;
r=0.5496;
plot(x,K./(1+((K-0.1709).*exp(-r*(1-0.01.*x).*x))./(0.1709)),'LineWidth',1.5)
hold on
plot(x,N,'LineWidth',1.5)
hold on
K=1.542;
r=0.5829;
plot(x,K./(1+((K-0.1709).*exp(-r*(1-0.01.*x).*x))./(0.1709)),'LineWidth',1.5)
legend('Fix for DUT-China','Experimental data ','The fitting of SCUT-China','location','southeast')
grid on
xlabel('Time (h)')
ylabel('A.U. at OD600')
title('Fitting curve for bacterial growth')
